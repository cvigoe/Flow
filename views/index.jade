extends layout
block content
  .container
    .card(id="message")
      button(class="btn btn-outline-secondary hide", id="hide")
        img(src="/images/clear.svg")
      .card-block 
        p(id='bootstrap-override') This page displays real-time occupancy data for each of the 11 Accident & Emergency Waiting Rooms in the Leinster region. The estimated Incoming Patient Wait Time for a particular <a href='http://www.phecit.ie/Images/PHECC/Clinical%20resources/STN001%20EMS%20Priority%20Dispatch%20Standard%20V4.pdf'> triage category </a> is based on:
        ul
          li="the hospital's average initial treatment time for a patient in a particular triage category;"
          li="the average efficiency of the hospital staff;"
          li="the number of staff on duty;" 
          li="and how many patients of a particualr triage category or higher (more urgent) are already in the queue."
        p="The estimated Incoming Patient Wait Time is indicated in minutes."
    .row
      for hospital in data
        div(class="col-md-4")
          div(class="panel panel-default", id="bootstrap-override")
            a(href=("/" + hospital.HospitalID))
              div(class="panel-heading", style="text-align: center;")
                h4=hospital.HospitalName
            table(class="table table-hover", style="text-align: center;")
              thead
                tr
                  th(style="text-align: center; vertical-align: middle;") Triage Category
                  th(style="text-align: center; vertical-align: middle;") Incoming Patient Wait Time
                  th(style="text-align: center; vertical-align: middle;") Patients in Waiting Room
              tbody(id="bootstrap-override") 
                tr
                  td OMEGA
                  td=hospital.OmegaTime
                  td=hospital.OmegaPatients
                tr
                  td ALPHA
                  td=hospital.AlphaTime
                  td=hospital.OmegaPatients
                tr
                  td BRAVO
                  td=hospital.BravoTime
                  td=hospital.BravoPatients
                tr
                  td CHARILE
                  td=hospital.CharlieTime
                  td=hospital.CharliePatients
                tr
                  td DELTA
                  td=hospital.DeltaTime
                  td=hospital.DeltaPatients        
                tr
                  td ECHO
                  td=hospital.EchoTime
                  td=hospital.EchoPatients
              thead
                tr(style = "border-top-style: solid; border-top-width: 2px; border-top-color: #ddd")
                  th(colspan=2) Total Patients in Waiting Room
                  th(style="text-align: center;")=hospital.TotalPatients
              thead
                tr
                  th(colspan=2) Total Staff on Duty
                  th(style="text-align: center;")=hospital.Staff
              thead
                tr 
                  th(colspan=2) Severity Adjusted Wait Time
                  th(style="text-align: center;")=hospital.SAWTime              

            div(class="panel-heading")
